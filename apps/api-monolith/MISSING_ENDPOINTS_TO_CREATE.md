# üìã –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã for —Å–æ–∑–¥–∞–Ω–∏—è –≤ API Monolith

**Date:** 2025-11-16
**–ë–∞–∑–æ–≤—ã–π path:** `/api-monolith/v1` (after refactoring–∞)

---

## üéØ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (11 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

### 1. Pipelines (6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

#### ‚ùå `POST /api-monolith/v1/pipelines/:id/publish`
**–ù–∞value:** –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ marketplace
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `POST /pipelines/:id/publish`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –ü—É–±–ª–∏–∫—É–µ—Ç –ø–∞–π–ø–ª–∞–π–Ω –≤ –ø—É–±–ª–∏—á–Ω—ã–π marketplace
- –î–µ–ª–∞–µ—Ç –ø–∞–π–ø–ª–∞–π–Ω –¥–æ—Å—Ç—É–ø–Ω—ã–º for –¥—Ä—É–≥–∏—Ö users
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (path) - ID –ø–∞–π–ø–ª–∞–π–Ω–∞

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –ü–∞–π–ø–ª–∞–π–Ω –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- `404 Not Found` - –ü–∞–π–ø–ª–∞–π–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- `403 Forbidden` - –ù–µ –≤–ª–∞–¥–µ–ª–µ—Ü –ø–∞–π–ø–ª–∞–π–Ω–∞

---

#### ‚ùå `GET /api-monolith/v1/pipelines/templates`
**–ù–∞value:** –°–ø–∏—Å–æ–∫ template–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `GET /pipelines/templates`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö template–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**Query parameter—ã:**
- `category` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `limit` (optional) - –õ–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `offset` (optional) - –°–º–µ—â–µ–Ω–∏–µ for –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –°–ø–∏—Å–æ–∫ template–æ–≤

---

#### ‚ùå `POST /api-monolith/v1/pipelines/templates/:id/clone`
**–ù–∞value:** –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ template–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `POST /pipelines/templates/:id/clone`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –°–æ–∑–¥–∞–µ—Ç new –ø–∞–π–ø–ª–∞–π–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ template–∞
- –ö–æ–ø–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é template–∞
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (path) - ID template–∞

**Body (optional):**
```json
{
  "name": "My Pipeline",
  "description": "Description"
}
```

**–û—Ç–≤–µ—Ç:**
- `201 Created` - –ü–∞–π–ø–ª–∞–π–Ω —Å–æ–∑–¥–∞–Ω
- `404 Not Found` - –®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω

---

#### ‚ùå `POST /api-monolith/v1/executions`
**–ù–∞value:** –ó–∞–ø—É—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `POST /executions`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç execution –ø–∞–π–ø–ª–∞–π–Ω–∞
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**Body:**
```json
{
  "pipelineId": "uuid",
  "input": {},
  "options": {
    "async": true
  }
}
```

**–û—Ç–≤–µ—Ç:**
- `201 Created` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
- `404 Not Found` - –ü–∞–π–ø–ª–∞–π–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
- `400 Bad Request` - –ù–µ–≤–µ—Ä–Ω—ã–µ parameter—ã

---

#### ‚ùå `GET /api-monolith/v1/executions/:id`
**–ù–∞value:** –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `GET /executions/:id`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç details –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
- –í–∫–ª—é—á–∞–µ—Ç status, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, errors
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (path) - ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –î–µ—Ç–∞–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `404 Not Found` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ found

---

#### ‚ùå `GET /api-monolith/v1/executions/:id/stats`
**–ù–∞value:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `GET /executions/:id/stats`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –í–∫–ª—é—á–∞–µ—Ç metrics –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (path) - ID –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `404 Not Found` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ found

---

### 2. RBAC (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)

#### ‚ùå `GET /api-monolith/v1/rbac/permissions/:id`
**–ù–∞value:** –ü–æ–ª—É—á–µ–Ω–∏–µ permission –ø–æ ID
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `GET /rbac/permissions/:id`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç details permission –ø–æ ID
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (path) - ID permission

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –î–µ—Ç–∞–ª–∏ permission
- `404 Not Found` - Permission –Ω–µ –Ω–∞–π–¥–µ–Ω

---

#### ‚ùå `POST /api-monolith/v1/rbac/permissions/grant`
**–ù–∞value:** –í—ã–¥–∞—á–∞ permission —Ä–æ–ª–∏
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `POST /rbac/permissions/grant`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í—ã–¥–∞–µ—Ç permission —Ä–æ–ª–∏
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

**Body:**
```json
{
  "roleId": "uuid",
  "permissionId": "uuid"
}
```

**–û—Ç–≤–µ—Ç:**
- `200 OK` - Permission –≤—ã–¥–∞–Ω
- `404 Not Found` - –†–æ–ª—å –∏–ª–∏ permission –Ω–µ found
- `400 Bad Request` - Permission already –≤—ã–¥–∞–Ω

---

#### ‚ùå `DELETE /api-monolith/v1/rbac/permissions/:roleId/:id`
**–ù–∞value:** –û—Ç–∑—ã–≤ permission —É —Ä–æ–ª–∏
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `DELETE /rbac/permissions/:roleId/:id`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –û—Ç–∑—ã–≤–∞–µ—Ç permission —É —Ä–æ–ª–∏
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `roleId` (path) - ID —Ä–æ–ª–∏
- `id` (path) - ID permission

**–û—Ç–≤–µ—Ç:**
- `200 OK` - Permission –æ—Ç–æ–∑–≤–∞–Ω
- `404 Not Found` - –†–æ–ª—å –∏–ª–∏ permission –Ω–µ found

---

### 3. Users (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –≠—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ Auth API, –Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ for Monolith

#### ‚ùå `GET /api-monolith/v1/users`
**–ù–∞value:** –°–ø–∏—Å–æ–∫ all—Ö users —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** `GET /users`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ users
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

**Query parameter—ã:**
- `limit` (optional) - –õ–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (default: 20)
- `offset` (optional) - –°–º–µ—â–µ–Ω–∏–µ (default: 0)
- `search` (optional) - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/email

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –°–ø–∏—Å–æ–∫ users

---

#### ‚ùå `GET /api-monolith/v1/users/me`
**–ù–∞value:** –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —É–∫–∞–∑–∞–Ω–∞, –Ω–æ —É–¥–æ–±–Ω–µ–µ —á–µ–º `/:userId`
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω for –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**
- `200 OK` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `401 Unauthorized` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ)

### 4. Pipelines (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

#### ‚ùå `POST /api-monolith/v1/pipelines/:id/execute`
**–ù–∞value:** –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `/executions`)
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç execution –ø–∞–π–ø–ª–∞–π–Ω–∞
- –£–¥–æ–±–Ω–µ–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å execution department—å–Ω–æ

---

#### ‚ùå `GET /api-monolith/v1/pipelines/:id/executions`
**–ù–∞value:** –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ all—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø–∞–π–ø–ª–∞–π–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é

---

### 5. RBAC (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

#### ‚ùå `GET /api-monolith/v1/rbac/users/:userId/roles`
**–ù–∞value:** –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç all —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

#### ‚ùå `GET /api-monolith/v1/rbac/users/:userId/permissions`
**–ù–∞value:** –í—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç all —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (via —Ä–æ–ª–∏)
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

### 6. Workers (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

#### ‚ùå `GET /api-monolith/v1/workers/:workerId/logs`
**–ù–∞value:** –õ–æ–≥–∏ –≤–æ—Ä–∫–µ—Ä–∞
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é

**Query parameter—ã:**
- `limit` (optional) - –õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π
- `level` (optional) - –§–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é (info, warn, error)
- `from` (optional) - –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞
- `to` (optional) - –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞

---

#### ‚ùå `POST /api-monolith/v1/workers/:workerId/restart`
**–ù–∞value:** –ü–µ—Ä–µlaunch –≤–æ—Ä–∫–µ—Ä–∞
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –ü–µ—Ä–µlaunch–∞–µ—Ç –≤–æ—Ä–∫–µ—Ä–∞
- –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

#### ‚ùå `GET /api-monolith/v1/workers/:workerId/history`
**–ù–∞value:** –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞
**Status:** ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**Description:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–±–æ—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞
- –í–∫–ª—é—á–∞–µ—Ç status—ã, –∑–∞–¥–∞—á–∏, metrics

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è statistics

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ | –ò—Ç–æ–≥–æ |
|-----------|----------------|---------------|-------|
| **Pipelines** | 6 | 2 | 8 |
| **RBAC** | 3 | 2 | 5 |
| **Users** | 2 | 0 | 2 |
| **Workers** | 0 | 3 | 3 |
| **–ò–¢–û–ì–û** | **11** | **7** | **18** |

---

## ‚úÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (11 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

1. ‚úÖ Pipelines (6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
   - `POST /pipelines/:id/publish`
   - `GET /pipelines/templates`
   - `POST /pipelines/templates/:id/clone`
   - `POST /executions`
   - `GET /executions/:id`
   - `GET /executions/:id/stats`

2. ‚úÖ RBAC (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)
   - `GET /rbac/permissions/:id`
   - `POST /rbac/permissions/grant`
   - `DELETE /rbac/permissions/:roleId/:id`

3. ‚úÖ Users (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)
   - `GET /users`
   - `GET /users/me`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (7 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

4. ‚úÖ Pipelines (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)
   - `POST /pipelines/:id/execute`
   - `GET /pipelines/:id/executions`

5. ‚úÖ RBAC (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)
   - `GET /rbac/users/:userId/roles`
   - `GET /rbac/users/:userId/permissions`

6. ‚úÖ Workers (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞)
   - `GET /workers/:workerId/logs`
   - `POST /workers/:workerId/restart`
   - `GET /workers/:workerId/history`

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ refactoring–∞ all –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- `/api-monolith/v1/*` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π path)
- Gateway –º–∞–ø–ø–∏—Ç `/api/v1/*` ‚Üí `/api-monolith/v1/*`

### 2. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

**–í–ê–ñ–ù–û:** –°–æ–≥–ª–∞—Å–Ω–æ NX –ø—Ä–∞–≤–∏–ª–∞–º:
- ‚úÖ –õ–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ `libs/domain/*`
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤ `apps/api-monolith/src/app/*`
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∏–∑ `libs`

### 3. Swagger document–∞—Ü–∏—è

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**
- ‚úÖ `@ApiTags` for –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- ‚úÖ `@ApiOperation` for –∫–∞–∂–¥–æ–≥–æ method–∞
- ‚úÖ `@ApiResponse` for all—Ö status–æ–≤
- ‚úÖ `@ApiParam` for parameter–æ–≤ –ø—É—Ç–∏
- ‚úÖ `@ApiQuery` for query parameter–æ–≤
- ‚úÖ `@ApiBody` for DTOs

### 4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**
- ‚úÖ `@UseGuards(JwtGuard)` for all—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ `@ApiBearerAuth()` for Swagger
- ‚úÖ –ò—Å–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å TODO —Å–ø–∏—Å–æ–∫ for —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2. ‚úÖ –ù–∞—á–∞—Ç—å —Å priority–∞ 1 (–ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ `libs/domain/*`
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤ `apps/api-monolith`
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Swagger document–∞—Ü–∏—é
6. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
7. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ update:** 2025-11-16
**Status:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
