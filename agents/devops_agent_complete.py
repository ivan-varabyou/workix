"""
Complete DevOps Agent —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AutoGen –∏ Ollama
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–ø–ª–æ—è
"""

from autogen import AssistantAgent, UserProxyAgent
import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM –¥–ª—è Ollama
OLLAMA_CONFIG = {
    "model": os.getenv("OLLAMA_MODEL", "qwen2.5:7b"),
    "base_url": os.getenv("OLLAMA_BASE_URL", "http://localhost:11434/v1"),
    "api_key": "ollama",
    "api_type": "open_ai",
    "temperature": float(os.getenv("AUTOGEN_TEMPERATURE", "0.7")),
}

# ==================== –ê–ì–ï–ù–¢–´ ====================

# 1. –ê–≥–µ–Ω—Ç-–∫–æ–¥–µ—Ä (Coder)
coder = AssistantAgent(
    name="Coder",
    system_message="""–¢—ã –æ–ø—ã—Ç–Ω—ã–π TypeScript/NestJS/Angular —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –ü–∏—Å–∞—Ç—å —á–∏—Å—Ç—ã–π, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- –°–ª–µ–¥–æ–≤–∞—Ç—å best practices –ø—Ä–æ–µ–∫—Ç–∞ Workix
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (DI, Repository, etc.)
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å 100% –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–∏–ø–æ–≤

–°—Ç–∏–ª—å –∫–æ–¥–∞:
- TypeScript strict mode
- Explicit return types
- Interfaces –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- eslint –∏ prettier compliant
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
""",
    llm_config=OLLAMA_CONFIG
)

# 2. –ê–≥–µ–Ω—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ (Tester)
tester = AssistantAgent(
    name="Tester",
    system_message="""–¢—ã QA –∏–Ω–∂–µ–Ω–µ—Ä –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –°–æ–∑–¥–∞–≤–∞—Ç—å unit-—Ç–µ—Å—Ç—ã (Vitest/Jest)
- –ü–∏—Å–∞—Ç—å integration-—Ç–µ—Å—Ç—ã
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º 85% –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å edge cases
- –°–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–∫–∏ –∏ —Å—Ç–∞–±—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã TypeScript

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- Vitest –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤
- Supertest –¥–ª—è API —Ç–µ—Å—Ç–æ–≤
- @testing-library –¥–ª—è UI
- Storybook –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
""",
    llm_config=OLLAMA_CONFIG
)

# 3. –ê–≥–µ–Ω—Ç-–¥–µ–ø–ª–æ–µ—Ä (Deployer)
deployer = AssistantAgent(
    name="Deployer",
    system_message="""–¢—ã DevOps –∏–Ω–∂–µ–Ω–µ—Ä –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –¥–µ–ø–ª–æ—é.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –°–æ–∑–¥–∞–≤–∞—Ç—å Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (Deployment, Service, ConfigMap, Secret)
- –ü–∏—Å–∞—Ç—å Dockerfiles —Å multi-stage builds
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã (GitHub Actions)
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å zero-downtime deployments
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ–∑–¥–∞–≤–∞—Ç—å Helm charts

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–µ–ø–ª–æ—é:
- Kubernetes-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Health checks (liveness, readiness)
- Resource limits –∏ requests
- Security best practices
- ArgoCD —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
""",
    llm_config=OLLAMA_CONFIG
)

# 4. –ê–≥–µ–Ω—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä (Architect)
architect = AssistantAgent(
    name="Architect",
    system_message="""–¢—ã software –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –í—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –°–æ–∑–¥–∞–≤–∞—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ü—Ä–∏–Ω—Ü–∏–ø—ã:
- Clean Architecture
- SOLID principles
- DDD (Domain-Driven Design)
- Microservices architecture
- Event-driven patterns
""",
    llm_config=OLLAMA_CONFIG
)

# 5. –ê–≥–µ–Ω—Ç-—Ä–µ–≤—å—é–µ—Ä (Reviewer)
reviewer = AssistantAgent(
    name="Reviewer",
    system_message="""–¢—ã code reviewer –∏ tech lead.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ù–∞—Ö–æ–¥–∏—Ç—å –±–∞–≥–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å security issues

–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- Code quality –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- Performance issues
- Security vulnerabilities
- Test coverage
- –¢–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞
""",
    llm_config=OLLAMA_CONFIG
)

# 6. –ê–≥–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏ Ollama (ModelManager)
model_manager = AssistantAgent(
    name="ModelManager",
    system_message="""–¢—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –º–æ–¥–µ–ª—è–º–∏ Ollama.

–¢–≤–æ–∏ –∑–∞–¥–∞—á–∏:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É ollama pull
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ ollama list
- –£–ø—Ä–∞–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—è–º–∏ –º–æ–¥–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

–ö–æ–º–∞–Ω–¥—ã Ollama:
- ollama pull <model> - –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å
- ollama list - –ø–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- ollama show <model> - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥–µ–ª–∏
- ollama run <model> - –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å
- ollama ps - –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

–ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π:
- qwen2.5:7b - –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞, ~4.5GB)
- qwen:32b - –±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç >= 20GB RAM, ~20GB)
- llama3:8b - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (~4.7GB)
- mistral:7b - –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å (~4.1GB)
- codellama:7b - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –∫–æ–¥–∞ (~3.8GB)

–í–∞–∂–Ω–æ:
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–π –¥–æ—Å—Ç—É–ø–Ω—É—é RAM –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥—É–π –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–æ–¥–µ–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á
- –ò—Å–ø–æ–ª—å–∑—É–π df -h –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π free -h –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RAM
""",
    llm_config=OLLAMA_CONFIG
)

# 7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≥–µ–Ω—Ç (User)
user = UserProxyAgent(
    name="User",
    human_input_mode="NEVER",  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (–±–µ–∑ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    max_consecutive_auto_reply=10,
    code_execution_config={
        "work_dir": ".",
        "use_docker": False
    }
)

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≥–µ–Ω—Ç
user_interactive = UserProxyAgent(
    name="UserInteractive",
    human_input_mode="ALWAYS",  # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
    max_consecutive_auto_reply=10,
    code_execution_config={
        "work_dir": ".",
        "use_docker": False
    }
)

# ==================== –§–£–ù–ö–¶–ò–ò ====================

def create_feature(feature_description: str):
    """
    –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é —Ñ–∏—á—É —Å –∫–æ–¥–æ–º, —Ç–µ—Å—Ç–∞–º–∏ –∏ –¥–µ–ø–ª–æ–µ–º

    Args:
        feature_description: –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á–∏
    """
    print(f"\nüöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏—á–∏: {feature_description}\n")
    print("=" * 60)

    # –®–∞–≥ 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ
    print("\nüìê –®–∞–≥ 1: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã...")
    user.initiate_chat(
        architect,
        message=f"–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è: {feature_description}"
    )

    # –®–∞–≥ 2: –ö–æ–¥–µ—Ä –ø–∏—à–µ—Ç –∫–æ–¥
    print("\nüíª –®–∞–≥ 2: –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞...")
    user.initiate_chat(
        coder,
        message=f"–†–µ–∞–ª–∏–∑—É–π —Å–ª–µ–¥—É—é—â—É—é —Ñ–∏—á—É: {feature_description}"
    )

    # –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç—ã
    print("\nüß™ –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤...")
    user.initiate_chat(
        tester,
        message="–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º 85%+"
    )

    # –®–∞–≥ 4: –†–µ–≤—å—é–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥
    print("\nüëÄ –®–∞–≥ 4: Code review...")
    user.initiate_chat(
        reviewer,
        message="–ü—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –Ω–∞–π–¥–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã"
    )

    # –®–∞–≥ 5: –î–µ–ø–ª–æ–µ—Ä –≥–æ—Ç–æ–≤–∏—Ç –¥–µ–ø–ª–æ–π
    print("\nüö¢ –®–∞–≥ 5: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é...")
    user.initiate_chat(
        deployer,
        message="–°–æ–∑–¥–∞–π Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∏ Dockerfile –¥–ª—è –¥–µ–ø–ª–æ—è"
    )

    print("\n‚úÖ –§–∏—á–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–µ–ø–ª–æ—é!")
    print("=" * 60)

def update_service(service_name: str, update_description: str):
    """
    –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å

    Args:
        service_name: –ò–º—è —Å–µ—Ä–≤–∏—Å–∞
        update_description: –û–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    """
    print(f"\nüîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞: {service_name}")
    print(f"–û–ø–∏—Å–∞–Ω–∏–µ: {update_description}\n")
    print("=" * 60)

    # –ö–æ–¥–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥
    user.initiate_chat(
        coder,
        message=f"–û–±–Ω–æ–≤–∏ —Å–µ—Ä–≤–∏—Å '{service_name}': {update_description}"
    )

    # –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ—Å—Ç—ã
    user.initiate_chat(
        tester,
        message="–û–±–Ω–æ–≤–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞"
    )

    print("\n‚úÖ –°–µ—Ä–≤–∏—Å –æ–±–Ω–æ–≤–ª–µ–Ω!")

def deploy_to_kubernetes(service_name: str):
    """
    –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å —Å–µ—Ä–≤–∏—Å –≤ Kubernetes

    Args:
        service_name: –ò–º—è —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –¥–µ–ø–ª–æ—è
    """
    print(f"\nüö¢ –î–µ–ø–ª–æ–π –≤ Kubernetes: {service_name}\n")
    print("=" * 60)

    user.initiate_chat(
        deployer,
        message=f"""–°–æ–∑–¥–∞–π –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –¥–µ–ø–ª–æ—è '{service_name}' –≤ Kubernetes:

        1. Dockerfile (multi-stage build)
        2. Kubernetes Deployment
        3. Kubernetes Service
        4. ConfigMap –∏ Secrets
        5. Health checks
        6. Resource limits
        7. HPA (Horizontal Pod Autoscaler)
        """
    )

    print("\n‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è –≥–æ—Ç–æ–≤–∞!")

def pull_ollama_model(model_name: str = "qwen:32b"):
    """
    –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å Ollama —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞ ModelManager

    Args:
        model_name: –ò–º—è –º–æ–¥–µ–ª–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é qwen:32b)
    """
    print(f"\nüì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ Ollama: {model_name}\n")
    print("=" * 60)

    user.initiate_chat(
        model_manager,
        message=f"""–ó–∞–≥—Ä—É–∑–∏ –º–æ–¥–µ–ª—å Ollama '{model_name}':

        1. –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
        2. –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—É—é RAM
        3. –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É: ollama pull {model_name}
        4. –ü—Ä–æ–≤–µ—Ä—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ ollama list
        5. –ü–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ ollama show {model_name}

        –ï—Å–ª–∏ –º–µ—Å—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–ª–∏ –º–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è, –ø—Ä–µ–¥–ª–æ–∂–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É.
        """
    )

    print(f"\n‚úÖ –ú–æ–¥–µ–ª—å {model_name} –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞!")
    print("–ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥–æ–π: ollama list")

# ==================== –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø ====================

def example_usage():
    """–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤"""

    print("\n" + "=" * 60)
    print("ü§ñ DevOps Agent - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è")
    print("=" * 60)

    print("\nüìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n")

    print("1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ñ–∏—á—É:")
    print("   create_feature('–î–æ–±–∞–≤–∏—Ç—å OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ GitHub')")

    print("\n2. –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å:")
    print("   update_service('api-auth', '–î–æ–±–∞–≤–∏—Ç—å rate limiting')")

    print("\n3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ Kubernetes:")
    print("   deploy_to_kubernetes('api-auth')")

    print("\n4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å Ollama:")
    print("   pull_ollama_model('qwen:32b')")
    print("   pull_ollama_model('qwen2.5:7b')")

    print("\n5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤:")
    print("   user.initiate_chat(coder, message='–°–æ–∑–¥–∞–π REST API –¥–ª—è users')")
    print("   user.initiate_chat(tester, message='–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç—ã –¥–ª—è API')")
    print("   user.initiate_chat(deployer, message='–°–æ–∑–¥–∞–π Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã')")
    print("   user.initiate_chat(model_manager, message='–ó–∞–≥—Ä—É–∑–∏ –º–æ–¥–µ–ª—å qwen:32b')")

    print("\n6. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:")
    print("   user_interactive.initiate_chat(coder, message='–¢–≤–æ—è –∑–∞–¥–∞—á–∞')")

    print("\n" + "=" * 60)
    print("‚ú® –í—Å–µ –∞–≥–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω —á–µ—Ä–µ–∑ Ollama!")
    print("=" * 60 + "\n")

# ==================== MAIN ====================

if __name__ == "__main__":
    print("\nüöÄ DevOps Agent –∑–∞–ø—É—â–µ–Ω!")
    print(f"üì¶ –ú–æ–¥–µ–ª—å: {OLLAMA_CONFIG['model']}")
    print(f"üîó URL: {OLLAMA_CONFIG['base_url']}")
    print(f"üå°Ô∏è  Temperature: {OLLAMA_CONFIG['temperature']}")

    print("\nüìù –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã:")
    print("   - coder:         –ü–∏—à–µ—Ç –∫–æ–¥")
    print("   - tester:        –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç—ã")
    print("   - deployer:      –ì–æ—Ç–æ–≤–∏—Ç –¥–µ–ø–ª–æ–π")
    print("   - architect:     –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É")
    print("   - reviewer:      –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥")
    print("   - model_manager: –£–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—è–º–∏ Ollama")
    print("   - user:          –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞–≥–µ–Ω—Ç–∞–º–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)")
    print("   - user_interactive: –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞–≥–µ–Ω—Ç–∞–º–∏ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π)")

    # –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã
    example_usage()

    # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–º–µ—Ä–∞:
    # create_feature("–î–æ–±–∞–≤–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é")
