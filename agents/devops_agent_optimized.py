"""
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π DevOps Agent –¥–ª—è CPU
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
"""

from autogen import AssistantAgent, UserProxyAgent

# ============================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò –ú–û–î–ï–õ–ï–ô (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è CPU)
# ============================================

# Mistral 7B Q4 - –û–°–ù–û–í–ù–ê–Ø –ú–û–î–ï–õ–¨ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
# –ë—ã—Å—Ç—Ä–∞—è, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è, 32k –∫–æ–Ω—Ç–µ–∫—Å—Ç
MISTRAL_CONFIG = {
    "model": "mistral:7b-instruct-q4_K_M",
    "base_url": "http://localhost:11434/v1",
    "api_key": "ollama",
    "api_type": "open_ai"
}

# LLaMA 3.1 8B Q4 - –î–õ–Ø –î–õ–ò–ù–ù–´–• –ó–ê–î–ê–ß
# 128k –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏/–∫–æ–¥–æ–º
LLAMA_CONFIG = {
    "model": "llama3.1:8b-instruct-q4_K_M",
    "base_url": "http://localhost:11434/v1",
    "api_key": "ollama",
    "api_type": "open_ai"
}

# StarCoder2 3B - –î–õ–Ø –ë–´–°–¢–†–û–ì–û –ö–û–î–ò–ù–ì–ê
# –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∫–æ–¥–µ
STARCODER_CONFIG = {
    "model": "starcoder2:3b",
    "base_url": "http://localhost:11434/v1",
    "api_key": "ollama",
    "api_type": "open_ai"
}

# Qwen 2.5 7B - –†–ï–ó–ï–†–í–ù–ê–Ø (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
QWEN_CONFIG = {
    "model": "qwen2.5:7b",
    "base_url": "http://localhost:11434/v1",
    "api_key": "ollama",
    "api_type": "open_ai"
}

# ============================================
# –ê–ì–ï–ù–¢–´
# ============================================

# –ê–≥–µ–Ω—Ç-–∫–æ–¥–µ—Ä (Mistral - –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)
coder = AssistantAgent(
    name="Coder",
    system_message="–¢—ã –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. –ü–∏—à–µ—à—å —á–∏—Å—Ç—ã–π, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥. "
                   "–°–ª–µ–¥—É–µ—à—å best practices, SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏ —Å–æ–∑–¥–∞–µ—à—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è. "
                   "–ò—Å–ø–æ–ª—å–∑—É–µ—à—å TypeScript, Python, JavaScript –∏ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏.",
    llm_config=MISTRAL_CONFIG
)

# –ê–≥–µ–Ω—Ç-–∫–æ–¥–µ—Ä –±—ã—Å—Ç—Ä—ã–π (StarCoder - –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è)
fast_coder = AssistantAgent(
    name="FastCoder",
    system_message="–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –≤ –±—ã—Å—Ç—Ä–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞. –°–æ–∑–¥–∞–µ—à—å —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –±—ã—Å—Ç—Ä–æ. "
                   "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—à—å—Å—è –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–∏.",
    llm_config=STARCODER_CONFIG
)

# –ê–≥–µ–Ω—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä (LLaMA - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å –±–æ–ª—å—à–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º)
architect = AssistantAgent(
    name="Architect",
    system_message="–¢—ã —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä. –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—à—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è, "
                   "–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –±–æ–ª—å—à–∏–µ –∫–æ–¥–æ–≤—ã–µ –±–∞–∑—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è. "
                   "–†–∞–±–æ—Ç–∞–µ—à—å —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–ª–æ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.",
    llm_config=LLAMA_CONFIG
)

# –ê–≥–µ–Ω—Ç-—Ä–µ–≤—å—é–µ—Ä (Mistral - –¥–ª—è code review)
reviewer = AssistantAgent(
    name="CodeReviewer",
    system_message="–¢—ã –æ–ø—ã—Ç–Ω—ã–π code reviewer. –ü—Ä–æ–≤–µ—Ä—è–µ—à—å –∫–æ–¥ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, "
                   "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º. –î–∞–µ—à—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.",
    llm_config=MISTRAL_CONFIG
)

# –ê–≥–µ–Ω—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ (Mistral)
tester = AssistantAgent(
    name="Tester",
    system_message="–¢—ã QA –∏–Ω–∂–µ–Ω–µ—Ä. –°–æ–∑–¥–∞–µ—à—å unit-—Ç–µ—Å—Ç—ã, integration-—Ç–µ—Å—Ç—ã. "
                   "–ü–∏—à–µ—à—å —Ç–µ—Å—Ç—ã –Ω–∞ pytest, jest, junit –∏ –¥—Ä—É–≥–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö. "
                   "–ü—Ä–æ–≤–µ—Ä—è–µ—à—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –∏ edge cases.",
    llm_config=MISTRAL_CONFIG
)

# –ê–≥–µ–Ω—Ç-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ—Ä (LLaMA - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏)
refactorer = AssistantAgent(
    name="Refactorer",
    system_message="–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –∫–æ–¥–∞. –£–ª—É—á—à–∞–µ—à—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥, "
                   "–¥–µ–ª–∞–µ—à—å –µ–≥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º. "
                   "–†–∞–±–æ—Ç–∞–µ—à—å —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ —Å–ª–æ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.",
    llm_config=LLAMA_CONFIG
)

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≥–µ–Ω—Ç
user = UserProxyAgent(
    name="Developer",
    human_input_mode="NEVER",
    max_consecutive_auto_reply=10,
    code_execution_config={
        "work_dir": ".",
        "use_docker": False
    }
)

# ============================================
# –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø
# ============================================

if __name__ == "__main__":
    print("üöÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π DevOps Agent –∑–∞–ø—É—â–µ–Ω!")
    print("")
    print("ü§ñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã:")
    print("   üìù Coder (Mistral 7B Q4) - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥–µ—Ä")
    print("   ‚ö° FastCoder (StarCoder2 3B) - –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏–Ω–≥")
    print("   üèóÔ∏è  Architect (LLaMA 3.1 8B Q4) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–ª–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏")
    print("   üëÄ CodeReviewer (Mistral 7B Q4) - code review")
    print("   üß™ Tester (Mistral 7B Q4) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")
    print("   üîß Refactorer (LLaMA 3.1 8B Q4) - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤")
    print("")
    print("üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:")
    print("")
    print("1. –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø:")
    print("   user.initiate_chat(fast_coder, message='–°–æ–∑–¥–∞–π REST API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π')")
    print("")
    print("2. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥:")
    print("   user.initiate_chat(coder, message='–°–æ–∑–¥–∞–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏')")
    print("")
    print("3. –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º —Ñ–∞–π–ª–æ–º:")
    print("   user.initiate_chat(refactorer, message='–û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ —ç—Ç–æ—Ç –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª: [–∫–æ–¥]')")
    print("")
    print("4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:")
    print("   user.initiate_chat(architect, message='–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É')")
    print("")
    print("üìä –ú–æ–¥–µ–ª–∏ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è CPU):")
    print(f"   ‚Ä¢ Mistral 7B Q4: {MISTRAL_CONFIG['model']} (32k –∫–æ–Ω—Ç–µ–∫—Å—Ç)")
    print(f"   ‚Ä¢ LLaMA 3.1 8B Q4: {LLAMA_CONFIG['model']} (128k –∫–æ–Ω—Ç–µ–∫—Å—Ç)")
    print(f"   ‚Ä¢ StarCoder2 3B: {STARCODER_CONFIG['model']} (–±—ã—Å—Ç—Ä—ã–π –∫–æ–¥–∏–Ω–≥)")

